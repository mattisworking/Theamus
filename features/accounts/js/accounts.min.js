function accounts_next_page(t){(void 0===t||t%1!==0)&&(t=1),Theamus.Ajax.api({type:"get",url:Theamus.base_url+"/accounts/",method:["Accounts","get_user_accounts_list"],data:{custom:{page:t}},success:function(t){1===t.error.status?$("#accounts-list").html(Theamus.Notify("danger",t.error.message)):($("#accounts-list").html(t.response.data),add_account_listeners())}})}function add_account_listeners(){$('[name="edit-account-link"]').click(function(t){t.preventDefault(),update_admin_window_content("theamus-accounts","/accounts/admin/edit-account/"+$(this).attr("data-id")),change_admin_window_title("theamus-accounts","Edit User Account")}),$('[name="remove-account-link"]').click(function(t){t.preventDefault(),update_admin_window_content("theamus-accounts","/accounts/admin/remove-account/"+$(this).attr("data-id")),change_admin_window_title("theamus-accounts","Remove User Account")})}function change_accounts_tab(){$('[name="accounts-tab"]').click(function(t){t.preventDefault(),update_admin_window_content("theamus-accounts",$(this).attr("data-file")),change_admin_window_title("theamus-accounts",$(this).attr("data-title"))})}function search_accounts_next_page(t){return(void 0===t||t%1!==0)&&(t=1),Theamus.Ajax.api({type:"get",url:Theamus.base_url+"/accounts/",method:["Accounts","search_accounts"],data:{form:$(".search-form"),custom:{page:t}},success:function(t){1===t.error.status?$("account-search-results").html(Theamus.Notify("danger",t.error.message)):($("#account-search-results").html(t.response.data),admin_window_run_on_load("add_account_listeners"))}}),!1}function search_accounts(){$(".search-form").submit(function(t){t.preventDefault(),search_accounts_next_page(1)})}function create_account(){$(".new-account-form").submit(function(t){t.preventDefault(),$("#theamus-accounts").scrollTop(0),$("#create-account-result").html(Theamus.Notify("spinner","Creating...")),Theamus.Ajax.api({type:"post",url:Theamus.base_url+"/accounts/",method:["Accounts","create_new_account"],data:{form:this},success:function(t){1===t.error.status?$("#create-account-result").html(Theamus.Notify("danger",t.error.message)):t.response.data===!0&&($("#create-account-result").html(Theamus.Notify("success","Account created successfully.")),setTimeout(function(){update_admin_window_content("theamus-accounts","/accounts/admin/"),change_admin_window_title("theamus-accounts","Theamus Accounts")},1500))}})})}function edit_account(){$('[name="change_password"]').click(function(){this.checked===!0?$("#password-group").show():$("#password-group").hide()}),$(".edit-account-form").submit(function(t){t.preventDefault(),$("#theamus-accounts").scrollTop(0),$("#edit-account-result").html(alert_notify("spinner","Saving...")),Theamus.Ajax.api({type:"post",url:Theamus.base_url+"/accounts/admin/save-account",method:["Accounts","save_account_information"],data:{form:this},success:function(t){console.log(t),1===t.error.status?$("#edit-account-result").html(Theamus.Notify("danger",t.error.message)):t.response.data===!0&&$("#edit-account-result").html(Theamus.Notify("success","Account information saved."))}})})}function remove_account(){$('[name="cancel"]').click(function(){update_admin_window_content("theamus-accounts","/accounts/admin/"),change_admin_window_title("theamus-accounts","Theamus Accounts")}),$(".remove-account-form").submit(function(t){t.preventDefault(),$("#theamus-accounts").scrollTop(0),$("#remove-account-result").html(alert_notify("spinner","Removing...")),Theamus.Ajax.api({type:"post",url:Theamus.base_url+"/accounts/",method:["Accounts","remove_user_account"],data:{custom:{id:$("#id").val()}},success:function(t){1===t.error.status?$("#remove-account-result").html(Theamus.Notify("danger",t.error.message)):t.response.data===!0&&($("#remove-account-result").html(Theamus.Notify("success","Account information saved.")),setTimeout(function(){update_admin_window_content("theamus-accounts","/accounts/admin/"),change_admin_window_title("theamus-accounts","Theamus Accounts")},1500))}})})}