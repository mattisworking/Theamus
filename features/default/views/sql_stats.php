<?php

$sql_log_old = "140731 10:30:49	 1219 Connect	root@192.2.40.11 on Theamus-Development
		 1219 Query	SHOW TABLES
		 1219 Query	SELECT * FROM `tm_settings`
		 1219 Quit
		 1220 Connect	root@192.2.40.11 on Theamus-Development
		 1220 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1220 Query	SELECT * FROM `tm_user-sessions` WHERE (`user_id` = '1')
		 1220 Query	SELECT * FROM `tm_user-sessions` WHERE (`ip_address` = '::1' AND `user_id` = '1')
		 1220 Query	SELECT * FROM `tm_user-sessions` WHERE (`ip_address` = '192.2.41.219' AND `user_id` = '1')
		 1221 Connect	root@192.2.40.11 on Theamus-Development
		 1222 Connect	root@192.2.40.11 on Theamus-Development
		 1223 Connect	root@192.2.40.11 on Theamus-Development
		 1223 Quit
		 1224 Connect	root@192.2.40.11 on Theamus-Development
		 1224 Query	SELECT * FROM `tm_settings` WHERE (`installed` = '1')
		 1224 Quit
		 1225 Connect	root@192.2.40.11 on Theamus-Development
		 1226 Connect	root@192.2.40.11 on Theamus-Development
		 1226 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1225 Query	SELECT `home_override` FROM `tm_groups` WHERE `alias`='everyone'
		 1225 Query	SELECT `home_override` FROM `tm_groups` WHERE `alias`='administrators'
		 1225 Query	SELECT `home` FROM `tm_settings`
		 1225 Query	SELECT `home` FROM `tm_settings`
		 1225 Query	SELECT * FROM `tm_pages` WHERE `id`='1'
		 1225 Quit
		 1226 Quit
		 1221 Query	SELECT * FROM `tm_features` WHERE (`alias` = 'default')
		 1221 Query	SELECT * FROM `tm_themes` WHERE (`active` = '1')
		 1227 Connect	root@192.2.40.11 on Theamus-Development
		 1227 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1228 Connect	root@192.2.40.11 on Theamus-Development
		 1228 Query	SELECT * FROM `tm_settings`
		 1228 Query	SELECT * FROM `tm_settings`
		 1228 Query	SELECT * FROM `tm_settings`
		 1228 Query	SELECT * FROM `tm_settings`
		 1228 Query	SELECT * FROM `tm_settings`
		 1229 Connect	root@192.2.40.11 on Theamus-Development
		 1230 Connect	root@192.2.40.11 on Theamus-Development
		 1230 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1229 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '0')
		 1229 Query	SELECT * FROM `tm_links` WHERE (`child_of` = '2')
		 1231 Connect	root@192.2.40.11 on Theamus-Development
		 1232 Connect	root@192.2.40.11 on Theamus-Development
		 1232 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1231 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '2')
		 1231 Quit
		 1232 Quit
		 1230 Quit
		 1229 Quit
		 1228 Query	SELECT * FROM `tm_settings`
		 1233 Connect	root@192.2.40.11 on Theamus-Development
		 1234 Connect	root@192.2.40.11 on Theamus-Development
		 1235 Connect	root@192.2.40.11 on Theamus-Development
		 1235 Query	SELECT * FROM `tm_users` WHERE (`selector` = '1')
		 1234 Query	SELECT `home_override` FROM `tm_groups` WHERE `alias`='everyone'
		 1234 Query	SELECT `home_override` FROM `tm_groups` WHERE `alias`='administrators'
		 1234 Query	SELECT `home` FROM `tm_settings`
		 1234 Query	SELECT `home` FROM `tm_settings`
		 1234 Query	SELECT * FROM `tm_pages` WHERE `id`='1'
		 1228 Query	SELECT `views` FROM `tm_pages` WHERE (`alias` = 'hello_world')
		 1228 Query	UPDATE `tm_pages` SET `views` = '709' WHERE (`alias` = 'hello_world')
		 1235 Quit
		 1233 Quit
		 1228 Query	SELECT * FROM `tm_settings`
		 1234 Quit
		 1228 Quit
		 1220 Quit
		 1221 Quit
		 1227 Quit
		 1222 Quit
		 1236 Connect	root@192.2.40.11 on Theamus-Development
		 1236 Query	SHOW TABLES
		 1236 Query	SELECT * FROM `tm_settings`
		 1236 Quit
		 1237 Connect	root@192.2.40.11 on Theamus-Development
		 1238 Connect	root@192.2.40.11 on Theamus-Development
		 1239 Connect	root@192.2.40.11 on Theamus-Development
		 1240 Connect	root@192.2.40.11 on Theamus-Development
		 1240 Quit
		 1241 Connect	root@192.2.40.11 on Theamus-Development
		 1241 Query	SELECT * FROM `tm_settings` WHERE (`installed` = '1')
		 1241 Quit
		 1242 Connect	root@192.2.40.11 on Theamus-Development
		 1243 Connect	root@192.2.40.11 on Theamus-Development
		 1242 Query	SELECT `home` FROM `tm_settings`
		 1242 Query	SELECT `home` FROM `tm_settings`
		 1242 Query	SELECT * FROM `tm_pages` WHERE `id`='1'
		 1242 Quit
		 1238 Query	SELECT * FROM `tm_features` WHERE (`alias` = 'default')
		 1243 Quit
		 1238 Query	SELECT * FROM `tm_themes` WHERE (`active` = '1')
		 1244 Connect	root@192.2.40.11 on Theamus-Development
		 1245 Connect	root@192.2.40.11 on Theamus-Development
		 1245 Query	SELECT * FROM `tm_settings`
		 1245 Query	SELECT * FROM `tm_settings`
		 1245 Query	SELECT * FROM `tm_settings`
		 1245 Query	SELECT * FROM `tm_settings`
		 1245 Query	SELECT * FROM `tm_settings`
		 1246 Connect	root@192.2.40.11 on Theamus-Development
		 1247 Connect	root@192.2.40.11 on Theamus-Development
		 1246 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '0')
		 1246 Query	SELECT * FROM `tm_links` WHERE (`child_of` = '2')
		 1248 Connect	root@192.2.40.11 on Theamus-Development
		 1249 Connect	root@192.2.40.11 on Theamus-Development
		 1248 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '2')
		 1248 Quit
		 1246 Quit
		 1249 Quit
		 1247 Quit
		 1245 Query	SELECT * FROM `tm_settings`
		 1250 Connect	root@192.2.40.11 on Theamus-Development
		 1251 Connect	root@192.2.40.11 on Theamus-Development
		 1252 Connect	root@192.2.40.11 on Theamus-Development
		 1251 Query	SELECT `home` FROM `tm_settings`
		 1251 Query	SELECT `home` FROM `tm_settings`
		 1251 Query	SELECT * FROM `tm_pages` WHERE `id`='1'
		 1245 Query	SELECT `views` FROM `tm_pages` WHERE (`alias` = 'hello_world')
		 1245 Query	UPDATE `tm_pages` SET `views` = '710' WHERE (`alias` = 'hello_world')
		 1250 Quit
		 1251 Quit
		 1252 Quit
		 1245 Query	SELECT * FROM `tm_settings`
		 1245 Quit
		 1237 Quit
		 1238 Quit
		 1239 Quit
		 1244 Quit	";

$sql_log = "140731 13:40:52	 1793 Connect	root@192.2.40.11 on Theamus-Development
		 1793 Query	SHOW TABLES
		 1793 Query	SELECT * FROM `tm_settings`
		 1793 Query	SELECT * FROM `tm_pages` WHERE (`id` = '1')
		 1793 Query	SELECT * FROM `tm_features` WHERE (`alias` = 'default')
		 1793 Query	SELECT * FROM `tm_themes` WHERE (`active` = '1')
		 1793 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '0')
		 1793 Query	SELECT * FROM `tm_links` WHERE (`child_of` = '2')
		 1793 Query	SELECT `groups`, `path`, `text`, `id` FROM `tm_links` WHERE (`location` = 'main' AND `child_of` = '2')
		 1793 Query	SELECT * FROM `tm_pages` WHERE (`id` = '1')
		 1793 Query	SELECT `views` FROM `tm_pages` WHERE (`alias` = 'hello_world')
		 1793 Query	UPDATE `tm_pages` SET `views` = '735' WHERE (`alias` = 'hello_world')
		 1793 Quit	";

$log_array = explode('
		 ', $sql_log);

$logs = array();
foreach ($log_array as $item) {
    $temp_item_array = explode("\t", $item);

    $temp_item_item_array = array();
    foreach ($temp_item_array as $item_item) {
        $temp_item_item_array[] = trim($item_item);
    }

    $logs[] = $temp_item_item_array;
}

$Theamus->print_array($logs);
